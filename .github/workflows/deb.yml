name: Using Deb

on:
  workflow_dispatch:
    inputs:
      drwaio:
        description: 'Run tests'
        required: false
        default: 'OK'

env:
  DISPLAY: ':0.0'
  DRAWIO_VERSION: 13.9.9
  DRAWIO_DISABLE_UPDATE: true
  DRAWIO_ENV: dev

jobs:
  compile:
    runs-on: ubuntu-latest
    steps:
      - name: Instaling drawio
        timeout-minutes: 3
        run: |
          wget https://github.com/jgraph/drawio-desktop/releases/download/v${{ env.DRAWIO_VERSION }}/draw.io-amd64-${{ env.DRAWIO_VERSION }}.deb
          sudo dpkg -i draw.io-amd64-${{ env.DRAWIO_VERSION }}.deb || sudo apt -y -f install
          sudo rm draw.io-amd64-${{ env.DRAWIO_VERSION }}.deb
          drawio --help
